<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <button id="button1">点击按钮1</button>
  <button id="button2">点击按钮2</button>
  <button id="button3">点击按钮3</button>
  <script>
    // var button1 = document.getElementById('button1'),
    //   button2 = document.getElementById('button2'),
    //   button3 = document.getElementById('button3');

    // // 挂载事件的方法：
    // var setCommand = function (button, command) {
    //   button.onclick = function () {
    //     command.execute();
    //   }
    // };


    // var MenuBar = {
    //   refresh: function () {
    //     console.log('刷新菜单目录');
    //   }
    // };
    // var SubMenu = {
    //   add: function () {
    //     console.log('增加子菜单');
    //   },
    //   del: function () {
    //     console.log('删除子菜单');
    //   }
    // };

    // // 几个命令类：刷新类、增加按钮类和删除按钮类
    // var RefreshMenuBarCommand = function (receiver) {
    //   this.receiver = receiver;
    // };
    // RefreshMenuBarCommand.prototype.execute = function () {
    //   this.receiver.refresh();
    // };
    // var AddSubMenuCommand = function (receiver) {
    //   this.receiver = receiver;
    // };
    // AddSubMenuCommand.prototype.execute = function () {
    //   this.receiver.add();
    // };
    // var DelSubMenuCommand = function (receiver) {
    //   this.receiver = receiver;
    // };
    // DelSubMenuCommand.prototype.execute = function () {
    //   // console.log('删除子菜单');
    //   this.receiver.del();
    // };



    // var refreshMenuBarCommand = new RefreshMenuBarCommand(MenuBar);
    // var addSubMenuCommand = new AddSubMenuCommand(SubMenu);
    // var delSubMenuCommand = new DelSubMenuCommand(SubMenu);
    // setCommand(button1, refreshMenuBarCommand);
    // setCommand(button2, addSubMenuCommand);
    // setCommand(button3, delSubMenuCommand);
  </script>
  <script>
    var bindClick = function (button, func) {
      button.onclick = func;
    };
    var MenuBar = {
      refresh: function () {
        console.log('刷新菜单界面');
      }
    };
    var SubMenu = {
      add: function () {
        console.log('增加子菜单');
      },
      del: function () {
        console.log('删除子菜单');
      }
    };
    bindClick(button1, MenuBar.refresh);
    bindClick(button2, SubMenu.add);
    bindClick(button3, SubMenu.del);
  </script>
  <script>
    var setCommand = function (button, func) {
      button.onclick = function () {
        func();
      }
    };
    var MenuBar = {
      refresh: function () {
        console.log('刷新菜单界面');
      }
    };
    var RefreshMenuBarCommand = function (receiver) {
      return function () {
        receiver.refresh();
      }
    };
    var refreshMenuBarCommand = RefreshMenuBarCommand(MenuBar);
    setCommand(button1, refreshMenuBarCommand);

  </script>
  <script>
    var RefreshMenuBarCommand = function (receiver) {
      return {
        execute: function () {
          receiver.refresh();
        }
      }
    };
    var setCommand = function (button, command) {
      button.onclick = function () {
        command.execute();
      }
    };
    var refreshMenuBarCommand = RefreshMenuBarCommand(MenuBar);
    setCommand(button1, refreshMenuBarCommand);


  </script>
</body>

</html>